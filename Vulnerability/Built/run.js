// debugging in node
// var functions = require('./functions.js');
// var data = require('./data.js');
// var csv1 = require('./NCHSURCodes2013.js');
// var csv2 = require('./Demographics.js');

// pull info on density
var data1 = {
    metadata: [
        'County',
        'FIPS code',
        'Density Score (0-3)'
    ],
    data: []
};
data1.data = functions.readRuralUrban(data.data, csv1);

// pull info on age
var data2 = {
    metadata: [
        'County',
        'FIPS code',
        'Density Score (0-3)',
        'Age Score (0-3)'
    ],
    data: []
};
data2.data = functions.readOldNew(data1.data, csv2);

// assign scores
var scores = {
    metadata: [
        'County',
        'FIPS score',
        'Density Score (0-3)',
        'Age Score (0-3)',
        'Risk Score (0-3)'
    ],
    data: []
};
scores.data = functions.scores(data2.data);

// assign coordinates
var coord = {
    metadata: [
        'County',
        'FIPS code',
        'Latitude',
        'Longitude'
    ],
    data: []
};
scores.data.forEach(function(item, index){
    functions.matchCoord(item, index, coord.data);
});